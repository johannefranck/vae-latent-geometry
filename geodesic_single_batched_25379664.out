Loaded module: cuda/11.7
/zhome/b4/8/155613/.lsbatch/1751285732.25379664.shell: line 29: 1453818 Killed                  python -m src.single_decoder.init_spline --seed 123 --pairfile selected_pairs_all.json
Step 0
Step 50
Step 100
Step 150
Step 200
Step 250
Step 300
Step 350
Step 400
Step 450
Saved: src/artifacts/spline_batch_optimized_batched_seed123.pt
Traceback (most recent call last):
  File "/appl9/python/3.10.16/lib/python3.10/runpy.py", line 196, in _run_module_as_main
    return _run_code(code, main_globals, None,
  File "/appl9/python/3.10.16/lib/python3.10/runpy.py", line 86, in _run_code
    exec(code, run_globals)
  File "/dtu/blackhole/1d/155613/vae-latent-geometry/src/single_decoder/density_batched.py", line 142, in <module>
    plot_latent_density_with_splines(
  File "/dtu/blackhole/1d/155613/vae-latent-geometry/src/plotting.py", line 55, in plot_latent_density_with_splines
    norm_sq = np.sum(diff**2, axis=1)
  File "/dtu/blackhole/1d/155613/venv_geometry/lib/python3.10/site-packages/numpy/core/fromnumeric.py", line 2313, in sum
    return _wrapreduction(a, np.add, 'sum', axis, dtype, out, keepdims=keepdims,
  File "/dtu/blackhole/1d/155613/venv_geometry/lib/python3.10/site-packages/numpy/core/fromnumeric.py", line 88, in _wrapreduction
    return ufunc.reduce(obj, axis, dtype, out, **passkwargs)
KeyboardInterrupt
Saved: src/plots/geodesic_distance_seed123_pall.png
Saved: src/artifacts/geodesic_distances_seed123_pall.json

------------------------------------------------------------
Sender: LSF System <lsfadmin@hpc.dtu.dk>
Subject: Job 25379664: <geodesic_single_batched> in cluster <dcc> Exited

Job <geodesic_single_batched> was submitted from host <n-62-12-19> by user <s204088> in cluster <dcc> at Mon Jun 30 14:15:32 2025
Job was executed on host(s) <n-62-12-24>, in queue <gpua100>, as user <s204088> in cluster <dcc> at Mon Jun 30 14:26:11 2025
</zhome/b4/8/155613> was used as the home directory.
</dtu/blackhole/1d/155613/vae-latent-geometry> was used as the working directory.
Started at Mon Jun 30 14:26:11 2025
Terminated at Mon Jun 30 14:31:50 2025
Results reported at Mon Jun 30 14:31:50 2025

Your job looked like:

------------------------------------------------------------
# LSBATCH: User input
#!/bin/bash
#BSUB -J geodesic_single_batched      # Job name
#BSUB -q gpua100                      # GPU queue
#BSUB -W 00:12                        # Max runtime (hh:mm)
#BSUB -n 1                            # 1 core
#BSUB -B s204088@dtu.dk               # Send email at start
#BSUB -N s204088@dtu.dk               # Send email at end of job
#BSUB -R "rusage[mem=20000]"          # 20GB memory
#BSUB -R "span[hosts=1]"              # All cores on same host
#BSUB -o single_batched.out           # OUT
#BSUB -e single_batched.err           # ERR

# Load modules
module load cuda/11.7

# Go to your project directory
cd /dtu/blackhole/1d/155613/vae-latent-geometry || exit 1

# Activate virtual environment
source /dtu/blackhole/1d/155613/venv_geometry/bin/activate

# Set HOME and prepare cache/config folders
export HOME=$PWD
mkdir -p "$HOME/.cache" "$HOME/.config" "$HOME/.huggingface"

export PYTHONPATH=$PWD:$PYTHONPATH

# Run single decoder pipeline (batched)
python -m src.single_decoder.init_spline --seed 123 --pairfile selected_pairs_all.json
python -m src.single_decoder.optimize_energy_batched --seed 123 
python -m src.single_decoder.density_batched --seed 123 --pairs_path src/artifacts/selected_pairs_all.json

------------------------------------------------------------

TERM_MEMLIMIT: job killed after reaching LSF memory usage limit.
Exited with exit code 130.

Resource usage summary:

    CPU time :                                   331.67 sec.
    Max Memory :                                 1024 MB
    Average Memory :                             417.60 MB
    Total Requested Memory :                     1024.00 MB
    Delta Memory :                               0.00 MB
    Max Swap :                                   -
    Max Processes :                              4
    Max Threads :                                8
    Run time :                                   339 sec.
    Turnaround time :                            978 sec.

The output (if any) is above this job summary.

